<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>test</title>
    </head>
    <body>
        <div id="waiter">
            <img src="base4253/img/waiter.png">
        </div>
        <button onclick="move(1,0)">move1</button>
        <button onclick="move(0,0)">move0</button>
		<br/>
		<div style="overflow:hidden">
			<div style="float:left;background-color:red;width:50%">hhdddddddddddddddddddddddddd</div>
			<div style="float:right;background-color:yellow;width:70%">aaaaaaaaaaaaaaaaaadddddddddddddddddddddddddddddhh</div>
		</div>
        <script>
            //总结：如果构造函数有return值，那么构造函数里的变量不能用this.来定义，用var来定义的话可以在构造函数的函数中取到，也可以在return的函数中取到。但注意直接饮用，不要用this.
            //构造函数里的函数，可以在return中取到，但是不能由实例直接取
            //我的理解是，构造函数中的return的意义，类似于把构造函数里其他东西隐藏起来，变成私有的，只有从return中的变量和函数是公有的，可以调用私有的变量和函数，可以由实例直接调用
            var test=function(){
                this.t0=0;//这种写法怎么都取不到，如果直接用t0会报错，如果用this.t0不报错但取不到
                //对任何构造函数（不管有没有return），var定义的属性都是私有的
                var t1=1;//这种直接取取不到,可以从函数中用t1取到,用this.t1也取不到
                function t2(){
                    return 2;
                    //return t1;//取的到
                    //return this.t1;//取不到
                    //return t0;//报错undefined
                    //return this.t0;//取不到
                }
                return{
                    t3:t1,//这个值是取不到的，会报错t是undefined//这里如果用this.t1也取不到
                    t4:t2(),
                    t5: function(){
                        return 3;
                    },
                    t6: function(){
                        return t1;//取的到
                        //return this.t1;//取不到
                    },
                    t7: function(){
                        return t2();//取的到
                    },
                    t8: function(){
                        //return t0;//报错undefined
                        return this.t0;//不报错，取不到
                    },
                }
            }
            // var test0=new test();
            // console.log(test0.t0);//这个值是取不到，会返回undefined
            // console.log(test0.t1);//这个值是取不到，会返回undefined
            // //console.log(test0.t2);//这样是undefined
            // //console.log(test0.t2());//这里居然报错说不是function
            // //console.log(test0().t3);//这个写法是错的，test0是对象不是函数
            // console.log(test0.t3);//取的到
            // console.log(test0.t4);
            // console.log(test0.t5());
            // console.log(test0.t6());//取的到
            // console.log(test0.t7());//取的到
            // console.log(test0.t8());//取不到

            setInterval(function(){
                console.log("hhh");
            },50);
            t();
            function t(){
                var pro=new Promise(function(resolve){
                    setTimeout(resolve,700);
                });
                pro.then(function(){
                    console.log("111111111111then");
                }).then(function(){
                    console.log("333333333333then");
                });
            }


            var obj={
                valueOf:function(){
                    return 1;
                },
                toString:function(){
                    return 2;
                },
                get:function(){
                    return "get";
                }
            }
            // alert(obj);//toString
            // alert(obj+" ");//valueOf
            // alert(obj*1);//valueOf
            // alert(obj);


            window.onload=function () {
                console.log("onload");
            }
            document.addEventListener("DOMContentLoaded",function () {
                console.log("onDOMContentLoaded");
            });
            document.onreadystatechange=function () {
                console.log(document.readyState);
            }
            window.onbeforeunload=function(){
                console.log("beforeunload");
            }
            window.onunload=function () {
                console.log("onunload");
            }


            var a=111111111;
            var func=()=>{
                return ()=>{
                    //return ()=>{
                        //return ()=>{
                            console.log(this.a);
                        //}
                    //}
                }
            }
            func()();//111111111
            func.call({a:2222222})();//111111111
            func().call({a:2222222});//111111111
            var func2=function(){
                return ()=>{
                    return ()=>{
                    //return ()=>{
                    console.log(this.a);
                    //}
                    }
                }
            }
            func2()()();//111111
            func2.call({a:222222})()();//222222
            func2().call({a:222222})();//111111
            func2()().call({a:222222});//111111
            var func3={
                a:4444444,
                b: ()=>{
                    //return ()=>{
                    //return ()=>{
                    console.log(this.a);
                    //}
                    //}
                },
                c: function(){
                    return ()=>{
                        return ()=>{
                            console.log(this.a);
                        }
                    }
                }
            }
            func3.b();//1111111
            func3.b.call({a:5555555});//111111
            func3.c()()();//4444444
            func3.c.call({a:5555555})()();//5555555
            func3.c().call({a:5555555})();//4444444
            func3.c()().call({a:5555555});//4444444
        </script>
    </body>
</html>
